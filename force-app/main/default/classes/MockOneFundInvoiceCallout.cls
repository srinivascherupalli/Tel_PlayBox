/*************************************************************************************************
Name : MockOneFundInvoiceCallout
Description : Test class for OneFundCalloutHandler
Author: Vamshi
Story: EDGE-124053
***************************************************************************************************/
@isTest
global class MockOneFundInvoiceCallout implements HttpCalloutMock{
    protected String resType;
    
    global MockOneFundInvoiceCallout(String resType){
        this.resType = resType;
    }
    global HTTPResponse respond(HTTPRequest req) {
        HttpResponse res = new HttpResponse();
        //String success_Search3= '{"creditAdjustmentEligibility":{ "chargeIdentifier": 10566,"invoiceLineNumber": 2, "maxCreditAmount": 450 },{ "chargeIdentifier": 10567,"invoiceLineNumber": 4, "maxCreditAmount": 150 }, {"chargeIdentifier": 10568, "invoiceLineNumber": 5, "maxCreditAmount": 10 },{ "chargeIdentifier": 10569, "invoiceLineNumber": 6, "maxCreditAmount": 409 }, {"chargeIdentifier": 10573, "invoiceLineNumber": 7,"maxCreditAmount": 1499 }, {"chargeIdentifier": 10573, "invoiceLineNumber": 8, "maxCreditAmount": 2000 }, { "chargeIdentifier": 10573,"invoiceLineNumber": 9,"maxCreditAmount": 3000 }}';
        String success_Search2='{"customerAccountNumber":"700000338751","chargeDetails":[{"invoiceLineNumber":2,"chargeType":"RecurringCharge","chargeIdentifier":10566},{"invoiceLineNumber":6,"chargeType":"RecurringCharge","chargeIdentifier":10569},{"invoiceLineNumber":4,"chargeType":"RecurringCharge","chargeIdentifier":10567},{"invoiceLineNumber":5,"chargeType":"RecurringCharge","chargeIdentifier":10568},{"invoiceLineNumber":7,"chargeType":"OnceOffCharge","chargeIdentifier":10573},{"invoiceLineNumber":8,"chargeType":"OnceOffCharge","chargeIdentifier":10573},{"invoiceLineNumber":9,"chargeType":"OnceOffCharge","chargeIdentifier":10573}],"ariaInvoiceNumber":149311676}';
        
        String  endpointurl=req.getEndpoint();
       // String success_Search ='{"customerAddress":{"companyName":"TestAccount_LIA_01","addressLine1":"Unit 1 1234 LostWay","addressCity":"Sydney","stateAndPostalCode":"NSW 2000"},"invoiceDetails":{"accountNumber":"700000005112","invoiceNumber":"9900000182889","invoiceIssueDate":"24 Jun 19","invoicePeriod":"01 Jun 19 - 23 Jun 19","ariaInvoiceNumber":148442927},"paymentSummary":{"balanceCarriedForward":11085,"totalDue":11953,"dueDate":"08 Jul 19","newCharges":868,"paymentsAndAdjustments":0},"serviceSummary":{"accountLevelChargesAndCredits":{"adjustmentsExcludingGstCost":0,"adjustmentsIncludingGstCost":0,"grossTotalBill":868,"amountOfGstIncludedInGrossTotalBill":60,"totalNewChargesInThisBill":868,"gstFreeItemsIncludedInNewCharges":208,"gstIncludedInNewCharges":60,"gstIncludedInAdjustments":0,"adjustmentsTotal":0},"listOfOffers":[{"offerName":"Connected Workplace","offerTotalExcludingGstCost":808,"offerTotalIncludingGstCost":868,"listOfProducts":[{"physicalLocationName":"242 Exhibition Street","siteExcludingGstCost":150,"siteIncludingGstCost":165,"listOfChargesAndCredits":{"planCharges":[{"serviceType":"CWP Zone 1 Seat Charges{$}","quantity":5,"excludingGstCost":150,"includingGstCost":165,"sigmaSpecId":"BSRC001_CB","startDate":"01 Jul","endDate":"31 Jul","isAggregated":false,"isTaxable":true,"isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"RecurringCharge","invoiceLineAttributes":[{"invoiceLineNumber":2,"invoiceTransactionId":197167985,"chargeExcludingGST":150,"chargeIncludingGST":165}]}]}},{"physicalLocationName":"150 Lonsdale Street","siteExcludingGstCost":150,"siteIncludingGstCost":165,"listOfChargesAndCredits":{"planCharges":[{"serviceType":"CWP Zone 1 Seat Charges{$}","quantity":5,"excludingGstCost":150,"includingGstCost":165,"sigmaSpecId":"BSRC001_CB","startDate":"01 Jul","endDate":"31 Jul","isAggregated":false,"isTaxable":true,"isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"RecurringCharge","invoiceLineAttributes":[{"invoiceLineNumber":2,"invoiceTransactionId":197167987,"chargeExcludingGST":150,"chargeIncludingGST":165}]}]}},{"physicalLocationName":"Mobile workers add-on","siteExcludingGstCost":508,"siteIncludingGstCost":538,"listOfChargesAndCredits":{"planCharges":[{"serviceType":"Mobile Seat Charge","quantity":3,"excludingGstCost":300,"includingGstCost":330,"sigmaSpecId":"BSRC001_CB","isAggregated":true,"isTaxable":true,"isQueryable":true,"isDisputable":true,"chargeIdentifier":9869602,"chargeType":"RecurringCharge","invoiceLineAttributes":[{"invoiceLineNumber":3,"invoiceTransactionId":197167983,"chargeExcludingGST":100,"chargeIncludingGST":110},{"invoiceLineNumber":4,"invoiceTransactionId":197167990,"chargeExcludingGST":100,"chargeIncludingGST":110},{"invoiceLineNumber":5,"invoiceTransactionId":197167999,"chargeExcludingGST":100,"chargeIncludingGST":110}]},{"serviceType":"Apple iPhone xs 128 GB Repayment","quantity":3,"excludingGstCost":165,"includingGstCost":165,"sigmaSpecId":"BSRO001_CB","isAggregated":true,"isTaxable":false,"isDisputable":true,"drillDownInputAttribute":{"chargeId":5553},"drillDownEndpoint":"Repayment details","isQueryable":true,"chargeIdentifier":9869601,"chargeType":"RecurringCharge","invoiceLineAttributes":[{"invoiceLineNumber":6,"invoiceTransactionId":197167982,"chargeExcludingGST":55,"chargeIncludingGST":55},{"invoiceLineNumber":7,"invoiceTransactionId":197167993,"chargeExcludingGST":55,"chargeIncludingGST":55},{"invoiceLineNumber":8,"invoiceTransactionId":197167996,"chargeExcludingGST":55,"chargeIncludingGST":55}]}],"usageSummaryCharges":[{"excludingGstCost":10,"includingGstCost":10,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026335","units":"2","drillDownInputAttribute":{"usageTypeCode":"7001","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485289],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming day pass - zone 1","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":9,"invoiceTransactionId":197167980,"chargeExcludingGST":10,"chargeIncludingGST":10}]},{"excludingGstCost":5,"includingGstCost":5,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026337","units":"1","drillDownInputAttribute":{"usageTypeCode":"7003","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485289],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming day pass data top-up","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":10,"invoiceTransactionId":197167981,"chargeExcludingGST":5,"chargeIncludingGST":5}]},{"excludingGstCost":12,"includingGstCost":12,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026333","units":"29.30 GB","drillDownInputAttribute":{"usageTypeCode":"1006","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485293],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming data","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":11,"invoiceTransactionId":197167992,"chargeExcludingGST":12,"chargeIncludingGST":12}]},{"excludingGstCost":4,"includingGstCost":4,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026332","units":"2","drillDownInputAttribute":{"usageTypeCode":"1013","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485293],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming texts","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":12,"invoiceTransactionId":197167991,"chargeExcludingGST":2,"chargeIncludingGST":2},{"invoiceLineNumber":13,"invoiceTransactionId":197167961,"chargeExcludingGST":2,"chargeIncludingGST":2}]},{"excludingGstCost":6,"includingGstCost":6,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026330","units":"6min","drillDownInputAttribute":{"usageTypeCode":"1009","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485295],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming outgoing calls","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":14,"invoiceTransactionId":197167997,"chargeExcludingGST":6,"chargeIncludingGST":6}]},{"excludingGstCost":6,"includingGstCost":6,"isAggregated":false,"isTaxable":false,"usageTypeNo":"10026331","units":"6min","drillDownInputAttribute":{"usageTypeCode":"1011","statementNumber":"9900000182889","invoiceNumber":"148442927","accountNumber":"700000005112","invoicePeriod":"01 Jun 19 - 23 Jun 19","planInstanceDetailsList":[14485295],"taxInclusive":0,"taxRate":0},"drillDownEndpoint":"Usage Details","usageTypeName":"Int roaming incoming calls","isQueryable":true,"isDisputable":true,"chargeIdentifier":9869601,"chargeType":"UsageCharge","invoiceLineAttributes":[{"invoiceLineNumber":15,"invoiceTransactionId":197167998,"chargeExcludingGST":6,"chargeIncludingGST":6}]}],"onceOffChargesAndCredits":[{"serviceType":"Device Charges","quantity":90,"excludingGstCost":9000,"includingGstCost":9900,"sigmaSpecId":"BSOTC001_CB","isAggregated":false,"isTaxable":true,"isQueryable":true,"isDisputable":true,"chargeIdentifier":9877601,"chargeType":"OnceOffCharge","invoiceLineAttributes":[{"invoiceLineNumber":16,"invoiceTransactionId":197167998,"chargeExcludingGST":9000,"chargeIncludingGST":9900}]},{"serviceType":"Apple iPhone xs 128 GB Handset","quantity":3,"excludingGstCost":3600,"includingGstCost":3960,"isAggregated":true,"isTaxable":true,"isQueryable":true,"chargeIdentifier":9877605,"chargeType":"OnceOffCharge","invoiceLineAttributes":[{"invoiceLineNumber":17,"invoiceTransactionId":197167976,"chargeExcludingGST":-1200,"chargeIncludingGST":-1320},{"invoiceLineNumber":18,"invoiceTransactionId":197167977,"chargeExcludingGST":-1200,"chargeIncludingGST":-1320},{"invoiceLineNumber":19,"invoiceTransactionId":197167978,"chargeExcludingGST":-1200,"chargeIncludingGST":-1320}]},{"serviceType":"Apple iPhone xs 128 GB Handset","quantity":3,"excludingGstCost":-3960,"includingGstCost":-3960,"isAggregated":true,"isTaxable":false,"isQueryable":true,"isDisputable":false,"chargeIdentifier":9877606,"chargeType":"CreditCharge","invoiceLineAttributes":[{"invoiceLineNumber":20,"invoiceTransactionId":197167999,"chargeExcludingGST":-1320,"chargeIncludingGST":-1320},{"invoiceLineNumber":21,"invoiceTransactionId":197168000,"chargeExcludingGST":-1320,"chargeIncludingGST":-1320},{"invoiceLineNumber":22,"invoiceTransactionId":197168001,"chargeExcludingGST":-1320,"chargeIncludingGST":-1320}]}]}}]}]},"adjustmentSummary":{"totalAdjustmentsCost":-120.5,"totalGSTIncludedInAdjustments":12.05,"adjustments":[{"adjustmentDescription":"Goodwill Credit","adjustmentDate":"08 May 19","adjustmentsCost":-220,"gstIncludedInAdjustments":20,"isQueryable":true,"isDisputable":false,"chargeIdentifier":98696,"chargeType":"CreditCharge","invoiceLineAttributes":[{"invoiceTransactionId":197167999,"chargeExcludingGST":-200,"chargeIncluingGST":-220}]}';                                               
        
    String success_Search ='{"customerAddress":{"companyName":"JB Finance Pvt Limited2","addressLine1":"BUILDING 36 89-139 LONSDALE  MELBOURNE VIC 3000","addressCity":"MELBOURNE","stateAndPostalCode":"VIC 3000"},"invoiceDetails":{"accountNumber":"700000338751","invoiceNumber":"9900000021262","invoiceIssueDate":"10 Dec 19","invoicePeriod":"09 Dec 19 - 10 Dec 19","ariaInvoiceNumber":"149311676"},"paymentSummary":{"balanceCarriedForward":7255.0,"totalDue":14865.0,"paymentsAndAdjustments":0.0,"dueDate":"09 Jan 20","newCharges":7610.0},"serviceSummary":{"listOfOffers":[{"offerName":"Connected Workplace","offerTotalExcludingGstCost":7610.0,"offerTotalIncludingGstCost":7610.0,"invoiceDef":1,"listOfProducts":[{"physicalLocationName":"150 lonsdale street","siteExcludingGstCost":450.0,"siteIncludingGstCost":450.0,"listOfChargesAndCredits":{"planCharges":[{"serviceType":"Fixed Seat (Zone 3)","quantity":3,"excludingGstCost":450.0,"includingGstCost":450.0,"sigmaSpecId":"BSRC001_CB","startDate":"01 Mar","endDate":"31 Mar","isAggregated":false,"isTaxable":false,"isQueryable":true,"isDisputable":true,"chargeType":"RecurringCharge","chargeIdentifier":10566,"invoiceLineAttributes":[{"invoiceLineNumber":2,"invoiceTransactionId":200989724,"chargeExcludingGST":450.0,"chargeIncludingGST":450.0,"chargeInstanceId":"O3U50YJG-E7SL-AO83-DSS-3008180311072"}]}]}},{"physicalLocationName":"150 Williams Street","siteExcludingGstCost":7160.0,"siteIncludingGstCost":7160.0,"listOfChargesAndCredits":{"planCharges":[{"serviceType":"Bandwidth Bolt On","quantity":1,"excludingGstCost":500.0,"includingGstCost":500.0,"sigmaSpecId":"BSRC001_CB","startDate":"01 Feb","endDate":"29 Feb","isAggregated":false,"isTaxable":false,"isQueryable":true,"isDisputable":true,"chargeType":"RecurringCharge","chargeIdentifier":10569,"invoiceLineAttributes":[{"invoiceLineNumber":6,"invoiceTransactionId":200989728,"chargeExcludingGST":500.0,"chargeIncludingGST":500.0,"chargeInstanceId":"c71f8ef7-f0ce-4d57-84ba-6f3224a04a7c"}]},{"serviceType":"Fixed Seat (Zone 3)","quantity":1,"excludingGstCost":150.0,"includingGstCost":150.0,"sigmaSpecId":"BSRC001_CB","startDate":"01 Feb","endDate":"29 Feb","isAggregated":false,"isTaxable":false,"isQueryable":true,"isDisputable":true,"chargeType":"RecurringCharge","chargeIdentifier":10567,"invoiceLineAttributes":[{"invoiceLineNumber":4,"invoiceTransactionId":200989726,"chargeExcludingGST":150.0,"chargeIncludingGST":150.0,"chargeInstanceId":"a02fac1d-d5e4-4859-b1da-770bc53c4cba"}]},{"serviceType":"Hunt Group Monthly Charge","quantity":1,"excludingGstCost":10.0,"includingGstCost":10.0,"sigmaSpecId":"BSRC001_CB","startDate":"01 Feb","endDate":"29 Feb","isAggregated":false,"isTaxable":false,"isQueryable":true,"isDisputable":true,"chargeType":"RecurringCharge","chargeIdentifier":10568,"invoiceLineAttributes":[{"invoiceLineNumber":5,"invoiceTransactionId":200989727,"chargeExcludingGST":10.0,"chargeIncludingGST":10.0,"chargeInstanceId":"d70abd28-727e-47b9-bb4a-102a01e107fb"}]}],"onceOffChargesAndCredits":[{"serviceType":"Huawei P30 Pro 32 GB","quantity":3,"excludingGstCost":6500.0,"includingGstCost":6500.0,"sigmaSpecId":"BSOTC001_CB","isAggregated":true,"isTaxable":false,"isQueryable":true,"isDisputable":true,"chargeType":"OnceOffCharge","chargeIdentifier":10573,"invoiceLineAttributes":[{"invoiceLineNumber":7,"invoiceTransactionId":200989729,"chargeExcludingGST":1500.0,"chargeIncludingGST":1500.0,"chargeInstanceId":"b812be54-dd3d-416e-bdb0-61aa4a902c94Ord"},{"invoiceLineNumber":8,"invoiceTransactionId":200989730,"chargeExcludingGST":2000.0,"chargeIncludingGST":2000.0,"chargeInstanceId":"b812be54-dd3d-416e-bdb0-61aa4a902c94Ord"},{"invoiceLineNumber":9,"invoiceTransactionId":200989731,"chargeExcludingGST":3000.0,"chargeIncludingGST":3000.0,"chargeInstanceId":"b812be54-dd3d-416e-bdb0-61aa4a902c94Ord"}]}]}}]}],"accountLevelChargesAndCredits":{"adjustmentsExcludingGstCost":0.0,"adjustmentsIncludingGstCost":0.0,"grossTotalBill":7610.0,"amountOfGstIncludedInGrossTotalBill":0.0,"totalNewChargesInThisBill":7610.0,"gstFreeItemsIncludedInNewCharges":7610.0,"gstIncludedInNewCharges":0.0,"adjustmentsTotal":0.0,"gstIncludedInAdjustments":0.0}}}';
        String success_Error = '{"errorKey":"invoice.data.not.found","errorMessage":"Invoice data not found"}';
        String success_Error_503 = '';
        if(resType.contains('success_Search') && endpointurl.contains('generate-invoice-details')){
            system.debug('In succes search===========>0000');
            res.setBody(success_Search);
            res.setStatusCode(200);
        }
        
         if(resType.contains('success_Search2') && endpointurl.contains('credit-eligibility') ){
             system.debug('credit===============>1111');
            res.setBody(success_Search2);
            res.setStatusCode(200);
        }
       
        else if(resType.equalsIgnoreCase('success_Error')){
            res.setBody(success_Error);
            res.setStatusCode(500);
        }
       
        else if(resType.equalsIgnoreCase('success_Error_503')){
            res.setBody(success_Error_503);
            res.setStatusCode(503);
        }

        System.assertEquals(res!=null,true,'Return response');
        return res;
    }
    
}