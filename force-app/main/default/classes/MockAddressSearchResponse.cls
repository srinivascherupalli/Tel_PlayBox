/*************************************************************************************************
DIGI-13813
Name: MockAddressSearchResponse
Description: Created Mock Response for Full address and Not found Address error 
Modified:Ajith Kumar
***************************************************************************************************/
@isTest
global class MockAddressSearchResponse implements HttpCalloutMock
{
    protected String resType;
    String success_All = '{"correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6","data":{"resultCount":16,"structured":[{"addressSummaryType":"PropertyAddressSummary","addressId":"240427074","addressType":"Property with Number","confirmed":true,"reqaddformatout":"structured","numSubaddresses":17,"condorCode":"AUBN","postcode":"2144","state":"NSW","localityName":"AUBURN","propertyNumberFrom":14,"propertyNumberTo":15,"streetName":"STATION","fsam":"AUSBNT","ruralmailType":"EMAIL","ruralmailNumber":"R001","postalDeliveryType":"POST","postalDeliveryNumberPrefix":"AU","postalDeliveryNumber":"0067","postalDeliveryNumberSuffix":"MEL","planNumber":"008","parcelType":"AUMELPARCEL","parcelNumber":"0039","parcelDescriptor1Prefix":"AUS","parcelDescriptor2":"MELB","parcelDescriptionType2":"AUSMEL","parcelDescriptor2Prefix":"AUSMELB","streetType":"ROAD","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4","facsRealm":"27","locationId":"9880016","customerServiceAreaId":"151","readyForServiceDate":"01/01/2020","exchangeServiceArea":"LIDC"},"subaddresses":{}}],"unstructuredAUPost":[{"addressSummaryType":"FormattedAddressSummary","addressId":"240427074","addressType":"Property with Number","reqaddformatout":"unstructuredAUPost","confirmed":true,"postcode":"2144","state":"NSW","localityName":"AUBURN","addressline1":"14 STATION RD,","condorCode":"AUBN","fsam":"AUSBNT","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4"}}]},"code":200,"status":200,"time":"2018-01-09T17:02:22+11:00","request":{"params":{},"data":{"searchOptions":{"sortType":"Default","addressesToSkip":0,"addressesToReturn":16,"fuzzyOptions":{"enabled":false},"addressType":"All"},"searchData":{"buildingName":"Regent","streetNumber":"14","streetName":"station","streetType":"road","suburb":"auburn","state":"nSw","postcode":"2144"}},"path":"/structured","method":"POST","requestId":"36574e24-af3d-4413-b0cd-ad9d37f036a8","correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"}}';
    String success_service = '{"code":200,"status":200,"time":"2019-04-01T14:24:14+10:00","data":{"resultCount":25,"structured":[{"addressSummaryType":"PropertyAddressSummary","addressId":"161339881","addressType":"Property with Number","confirmed":true,"reqaddformatout":"structured","numSubaddresses":253,"planNumber":"PS641029","parcelNumber":"1-1216","parcelType":"Lot","parcelDescriptor1Prefix":"F","condorCode":"MELBRNE","postcode":"3004","state":"VIC","localityName":"MELBOURNE","propertyNumberFrom":74,"propertyNumberTo":"","streetName":"QUEENS","streetType":"ROAD","serviceLocation":{"latitude":"-37:51:07.7","longitude":"144:58:47.8","facsRealm":"18","exchangeServiceArea":"WIRC"},"subaddresses":{"Level1":[{"AddressType":"Complex - Building with Number","SubAddressType":"BUILDING","ID":265056118,"parentID":161339881,"Confirmed":true,"from":1},{"AddressType":"Complex - Building with Number","SubAddressType":"BUILDING","ID":265056108,"parentID":161339881,"Confirmed":true,"from":1,"Level2":[{"AddressType":"Complex - Floor/Level","SubAddressType":"BASEMENT","ID":265056350,"parentID":265056108,"Confirmed":true,"from":1},{"AddressType":"Complex - Floor/Level","SubAddressType":"BASEMENT","ID":265056351,"parentID":265056108,"Confirmed":true,"from":2},{"AddressType":"Complex - Floor/Level","SubAddressType":"BASEMENT","ID":265056352,"parentID":265056108,"Confirmed":true,"from":3},{"AddressType":"Complex - Floor/Level","SubAddressType":"GROUND / GROUND FLOOR","ID":265056343,"parentID":265056108,"Confirmed":true,"Level3":[{"AddressType":"Complex - Flat/Unit","SubAddressType":"ROOM","ID":427633640,"parentID":265056343,"Confirmed":true,"from":"FIP"},{"AddressType":"Complex - Flat/Unit","SubAddressType":"ROOM","ID":427733640,"parentID":265056343,"Confirmed":true,"from":"SECURIT"},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":426798195,"parentID":265056343,"Confirmed":true,"from":"GYM"},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":427635852,"parentID":265056343,"Confirmed":true,"from":"OFFICE"},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":427735852,"parentID":265056343,"Confirmed":true,"from":"PUBLIC"},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056344,"parentID":265056343,"Confirmed":true,"from":1},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056345,"parentID":265056343,"Confirmed":true,"from":2},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056346,"parentID":265056343,"Confirmed":true,"from":3},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056347,"parentID":265056343,"Confirmed":true,"from":4},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056348,"parentID":265056343,"Confirmed":true,"from":5},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056349,"parentID":265056343,"Confirmed":true,"from":6}]},{"AddressType":"Complex - Floor/Level","SubAddressType":"LEVEL","ID":265056322,"parentID":265056108,"Confirmed":true,"Level3":[{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056323,"parentID":265056322,"Confirmed":true,"from":101},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056324,"parentID":265056322,"Confirmed":true,"from":102},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056325,"parentID":265056322,"Confirmed":true,"from":103},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056326,"parentID":265056322,"Confirmed":true,"from":104},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056327,"parentID":265056322,"Confirmed":true,"from":105},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056328,"parentID":265056322,"Confirmed":true,"from":106},{"AddressType":"Complex - Flat/Unit","SubAddressType":"UNIT","ID":265056329,"parentID":265056322,"Confirmed":true,"from":107}],"from":1}]}]}}],"unstructuredAUPost":[{"addressSummaryType":"FormattedAddressSummary","addressId":"161339881","addressType":"Property with Number","reqaddformatout":"unstructuredAUPost","confirmed":true,"postcode":"3004","state":"VIC","localityName":"MELBOURNE","addressline1":"74 QUEENS RD,","planNumber":"PS641029","parcelNumber":"1-1216","parcelType":"Lot","parcelDescriptor1Prefix":"F","condorCode":"MELBRNE","serviceLocation":{"latitude":"-37:51:07.7","longitude":"144:58:47.8"}}]},"request":{"params":{"correlationId":"48d2c76b-b226-41ec-4695-66ceeff5a015"},"data":{"searchOptions":{"responseFormats":["unstructuredAUPost","structured"],"fuzzyOptions":{"enabled":true},"addressType":"ServiceAddress","addressesToSkip":0,"addressesToReturn":25},"searchData":{"suburb":"MELBOURNE","streetNumber":"74","streetName":"Queens","state":"VIC","postcode":"3004"}},"path":"/structured","method":"POST","requestId":"011a0183-cbc6-4278-ac29-510b224ca866","correlationId":"48d2c76b-b226-41ec-4695-66ceeff5a015"},"correlationId":"48d2c76b-b226-41ec-4695-66ceeff5a015"}';
    String success_Rural = '{"correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6","data":{"resultCount":16,"structured":[{"addressSummaryType":"PropertyAddressSummary","addressId":"240427074","addressType":"Property with Number","confirmed":true,"reqaddformatout":"structured","numSubaddresses":17,"condorCode":"AUBN","postcode":"2144","state":"NSW","localityName":"AUBURN","propertyNumberFrom":14,"propertyNumberTo":15,"streetName":"STATION","fsam":"AUSBNT","ruralmailType":"EMAIL","ruralmailNumber":"R001","postalDeliveryType":"POST","postalDeliveryNumberPrefix":"AU","postalDeliveryNumber":"0067","postalDeliveryNumberSuffix":"MEL","planNumber":"008","parcelType":"AUMELPARCEL","parcelNumber":"0039","parcelDescriptor1Prefix":"AUS","parcelDescriptor2":"MELB","parcelDescriptionType2":"AUSMEL","parcelDescriptor2Prefix":"AUSMELB","streetType":"ROAD","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4","facsRealm":"27","locationId":"9880016","customerServiceAreaId":"151","readyForServiceDate":"01/01/2020","exchangeServiceArea":"LIDC"},"subaddresses":{}}],"unstructuredAUPost":[{"addressSummaryType":"FormattedAddressSummary","addressId":"240427074","addressType":"Property with Number","reqaddformatout":"unstructuredAUPost","confirmed":true,"postcode":"2144","state":"NSW","localityName":"AUBURN","addressline1":"14 STATION RD,","condorCode":"AUBN","fsam":"AUSBNT","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4"}}]},"code":200,"status":200,"time":"2018-01-09T17:02:22+11:00","request":{"params":{},"data":{"searchOptions":{"sortType":"Default","addressesToSkip":0,"addressesToReturn":16,"fuzzyOptions":{"enabled":false},"addressType":"RuralAddress"},"searchData":{"buildingName":"Regent","streetNumber":"14","streetName":"station","streetType":"road","suburb":"auburn","state":"nSw","postcode":"2144"}},"path":"/structured","method":"POST","requestId":"36574e24-af3d-4413-b0cd-ad9d37f036a8","correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"}}';
    String success_Postal = '{"code":200,"status":200,"time":"2018-01-09T17:02:22+11:00","data":{"resultCount":16,"structured":[{"addressSummaryType":"PropertyAddressSummary","addressId":"240427074","addressType":"Property with Number","confirmed":true,"reqaddformatout":"structured","numSubaddresses":17,"condorCode":"AUBN","postcode":"2144","state":"NSW","localityName":"AUBURN","propertyNumberFrom":14,"propertyNumberTo":15,"streetName":"STATION","fsam":"AUSBNT","ruralmailType":"EMAIL","ruralmailNumber":"R001","postalDeliveryType":"POST","postalDeliveryNumberPrefix":"AU","postalDeliveryNumber":"0067","postalDeliveryNumberSuffix":"MEL","planNumber":"008","parcelType":"AUMELPARCEL","parcelNumber":"0039","parcelDescriptor1Prefix":"AUS","parcelDescriptor2":"MELB","parcelDescriptionType2":"AUSMEL","parcelDescriptor2Prefix":"AUSMELB","streetType":"ROAD","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4","facsRealm":"27","locationId":"9880016","customerServiceAreaId":"151","readyForServiceDate":"01/01/2020","exchangeServiceArea":"LIDC"},"subaddresses":{}}],"unstructuredAUPost":[{"addressSummaryType":"FormattedAddressSummary","addressId":"240427074","addressType":"Property with Number","reqaddformatout":"unstructuredAUPost","confirmed":true,"postcode":"2144","state":"NSW","localityName":"AUBURN","addressline1":"14 STATION RD,","condorCode":"AUBN","fsam":"AUSBNT","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4"}}]},"request":{"params":{},"data":{"searchOptions":{"sortType":"Default","fuzzyOptions":{"enabled":false},"addressType":"PostalAddress","addressesToSkip":0,"addressesToReturn":16},"searchData":{"buildingName":"Regent","streetNumber":"14","streetName":"station","streetType":"road","suburb":"auburn","state":"nSw","postcode":"2144"}},"path":"/structured","method":"POST","requestId":"36574e24-af3d-4413-b0cd-ad9d37f036a8","correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"},"correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"}';
    String success_Parcel = '{"code":200,"status":200,"time":"2018-01-09T17:02:22+11:00","data":{"resultCount":16,"structured":[{"addressSummaryType":"PropertyAddressSummary","addressId":"240427074","addressType":"Property with Number","confirmed":true,"reqaddformatout":"structured","numSubaddresses":17,"condorCode":"AUBN","postcode":"2144","state":"NSW","localityName":"AUBURN","propertyNumberFrom":14,"propertyNumberTo":15,"streetName":"STATION","fsam":"AUSBNT","ruralmailType":"EMAIL","ruralmailNumber":"R001","postalDeliveryType":"POST","postalDeliveryNumberPrefix":"AU","postalDeliveryNumber":"0067","postalDeliveryNumberSuffix":"MEL","planNumber":"008","parcelType":"AUMELPARCEL","parcelNumber":"0039","parcelDescriptor1Prefix":"AUS","parcelDescriptor2":"MELB","parcelDescriptionType2":"AUSMEL","parcelDescriptor2Prefix":"AUSMELB","streetType":"ROAD","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4","facsRealm":"27","locationId":"9880016","customerServiceAreaId":"151","readyForServiceDate":"01/01/2020","exchangeServiceArea":"LIDC"},"subaddresses":{}}],"unstructuredAUPost":[{"addressSummaryType":"FormattedAddressSummary","addressId":"240427074","addressType":"Property with Number","reqaddformatout":"unstructuredAUPost","confirmed":true,"postcode":"2144","state":"NSW","localityName":"AUBURN","addressline1":"14 STATION RD,","condorCode":"AUBN","fsam":"AUSBNT","serviceLocation":{"latitude":"-33:50:54.7","longitude":"151:02:05.4"}}]},"request":{"params":{},"data":{"searchOptions":{"sortType":"Default","fuzzyOptions":{"enabled":false},"addressType":"ParcelAddress","addressesToSkip":0,"addressesToReturn":16},"searchData":{"buildingName":"Regent","streetNumber":"14","streetName":"station","streetType":"road","suburb":"auburn","state":"nSw","postcode":"2144"}},"path":"/structured","method":"POST","requestId":"36574e24-af3d-4413-b0cd-ad9d37f036a8","correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"},"correlationId":"72ebbb18-5ef8-4237-b22b-b6f7116ad6b6"}';
    String successResponse_adbor = '{"code": 200,"status": 200,"time": "2018-12-18T19:53:00+10:00", "data": { "transactionStatus": "Success","matchingresultscount": 1, "structured": { "addresses": {  "addressSummaryType": "PropertyAddressSummary", "addressId": "161152457","addressType": "Property with Number", "confirmed": true,"reqaddformatout": "structured","condorCode": "WERBEE S", "fsam": "3PCO-07", "numSubaddresses": 0,"postcode": "3030",  "state": "VIC","localityName": "WERRIBEE SOUTH", "propertyNumberFrom": 1, "propertyNumberTo": "","streetName": "FINCH", "streetType": "ROAD"  },  "serviceLocation": { "latitude": "-37:58:16.5","longitude": "144:41:16.0", "locationId": "LOC000005203996",         "customerServiceAreaId": "CSA300000010923","readyForServiceDate": "2019-04-01","exchangeServiceArea": "WBES", "facsRealm": "14"} }, "unstructuredAUPost": { "addresses": {  "addressSummaryType": "FormattedAddressSummary","addressId": "161152457",         "addressType": "Property with Number","reqaddformatout": "unstructuredAUPost","confirmed": true, "postcode": "3030", "state": "VIC", "localityName": "WERRIBEE SOUTH","condorCode": "WERBEE S","fsam": "3PCO-07","addressline1": "1 FINCH RD,"},  "serviceLocation": { "latitude": "-37:58:16.5", "longitude": "144:41:16.0","locationId": "LOC000005203996", "customerServiceAreaId": "CSA300000010923","readyForServiceDate": "2019-04-01" } } }, "request": {"params": {"addressId": "161152457", "reqaddformatout": "unstructuredAUPost,structured" },     "data": {},"path": "/addresses/:addressId", "method": "GET", "requestId": "4cc98b1e-85e4-4827-8ae0-4eca4c47e389",  "correlationId": "593a8033-19f0-4084-a4f5-3182931601b8" },"correlationId": "593a8033-19f0-4084-a4f5-3182931601b8"}';
    String errorResponse = '{"correlationId":"b4c8bb9f-8874-48db-88d3-d033221c306d","code":3007,"status":400,"time":"2017-12-01T20:51:50+11:00","request":{"params":{},"data":{"searchOptions":{"sortType":"Default","addressesToSkip":5,"addressesToReturn":5,"fuzzyOptions":{"enabled":true},"addressType":"serviceAddress","navigators":"disabled","responseFormats":["structured","unstructuredAUPost"]},"searchData":{"streetNumber":"2","streetName":"scotsman","streetType":"street","suburb":"forest lodge","state":"VIC1","postcode":"3000","unitNumber":"209","addressType":"Unit","floorNumber":"29","buildingNumber":"2","streetSuffix":"west"}},"path":"/structured","method":"POST","requestId":"ae977821-6b99-4c80-9b60-681727f36104","correlationId":"b4c8bb9f-8874-48db-88d3-d033221c306d"},"message":"Unable to process the address Request"}';
    String AutoResponse_success = '{"correlationId":"0c12c64e-628d-42e2-b050-01ddee513d9e","requestId":"c7bd2a70-c57b-4db4-93f1-7361bb19b6e5","results":[{"source":"experian","position":0,"raw":"AUE|196bc72d-a1ef-4f3f-906f-8cc6ad3c4c16|7.7304OAUEEwLjBwAAAAAIAgEAAAAAcBNmEAAhAA4AAAAAAAAAAAD..1oAAAAA.....wAAAAAAAAAAAAAAAAAAAExPVCAyICBNQUlUTEFORCBCQVkAAAAAAA--$19","name":"2 Maitland Bay Drive, KILLCARE HEIGHTS  NSW  2257"}]}';
    String AutoResponse_Error = '{"correlationId":"0c12c64e-628d-42e2-b050-01ddee513d9e","requestId":"c7bd2a70-c57b-4db4-93f1-7361bb19b6e5","results":[{"source":"experian","position":0,"raw":"AUE|196bc72d-a1ef-4f3f-906f-8cc6ad3c4c16|7.7304OAUEEwLjBwAAAAAIAgEAAAAAcBNmEAAhAA4AAAAAAAAAAAD..1oAAAAA.....wAAAAAAAAAAAAAAAAAAAExPVCAyICBNQUlUTEFORCBCQVkAAAAAAA--$19","name":"2 Maitland Bay Drive, KILLCARE HEIGHTS  NSW  2257"}]}';
    String NotFoundAddress_Error = '{"correlationId":"0c12c64e-628d-42e2-b050-01ddee513d9e","addNotFound":"Address is not available","requestId":"c7bd2a70-c57b-4db4-93f1-7361bb19b6e5","results":[]}';
    String FullAddressResp_Sucesss = '{"correlationId":"0c12c64e-628d-42e2-b050-01ddee513d9e","addNotFound":"Address is not available","requestId":"c7bd2a70-c57b-4db4-93f1-7361bb19b6e5","results":[{"source":"experian","position":0,"raw":"AUE|196bc72d-a1ef-4f3f-906f-8cc6ad3c4c16|7.7304OAUEEwLjBwAAAAAIAgEAAAAAcBNmEAAhAA4AAAAAAAAAAAD..1oAAAAA.....wAAAAAAAAAAAAAAAAAAAExPVCAyICBNQUlUTEFORCBCQVkAAAAAAA--$19","name":"2 Maitland Bay Drive, KILLCARE HEIGHTS  NSW  2257"}]}';
    String AddressSearch_Error = '{"requestId":"c7bd2a70-c57b-4db4-93f1-7361bb19b6e5","results":[]}';
    
    public MockAddressSearchResponse(String resType){
        this.resType = resType;
    }
    
    @isTest
    public static void searchAddress_Test(){
        AddressRequest addr = new AddressRequest(); 
        Test.startTest();
        AddressResponseDTO addrRes = AddressSearch.searchAddress(addr,'StructuredAddressHandler');
        Test.stopTest();
        System.assertNotEquals(addrRes, NULL);
    }

    global HTTPResponse respond(HTTPRequest req) {
        HttpResponse res = new HttpResponse();
        if(resType.contains('Success')){
            res.setBody(success_service);
        	res.setStatusCode(200);
        }
        else if(resType.contains('autoComplete')){
			res.setBody(AutoResponse_success);
        	res.setStatusCode(200);
		}
        else if(resType.contains('Rural')){
            res.setBody(success_Rural);
        	res.setStatusCode(200);
        }
        else if(resType.contains('Postal')){
            res.setBody(success_Postal);
        	res.setStatusCode(200);
        }
        else if(resType.contains('Parcel')){
            res.setBody(success_Parcel);
        	res.setStatusCode(200);
        }
        else if(resType.contains('Adbor')){
            res.setBody(successResponse_adbor);
        	res.setStatusCode(200);
        }
        else if(resType.contains('Error')){
            res.setBody(errorResponse);
        	res.setStatusCode(400);
        }
        else if(resType.contains('All')){
            res.setBody(success_All);
        	res.setStatusCode(400);
        }
        else  if(resType.contains('AutoResponse_success')){
            res.setBody(AutoResponse_success);
        	res.setStatusCode(200);
        }
        else  if(resType.contains('AutoResponse_error')){
            res.setBody(AutoResponse_error);
        	res.setStatusCode(404);
        }
        else{
            res=response();
        }
        return res;
    }
    public HTTPResponse response(){
        HttpResponse resp = new HttpResponse();
        if(resType.contains('AddressSearch')){
            resp.setBody(AddressSearch_Error);
        	resp.setStatusCode(404);
        }
        else  if(resType.contains('NotFoundAddress')){
            resp.setBody(NotFoundAddress_Error);
        	resp.setStatusCode(404);
        }
        else  if(resType.contains('FullAddressResp')){
            resp.setBody(FullAddressResp_Sucesss);
        	resp.setStatusCode(404);
        }
        return resp;        
    }
}